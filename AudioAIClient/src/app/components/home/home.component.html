<div *ngIf="!loading; else elseBlock" >
  <mat-card *ngFor="let document of documents">
    <mat-card-header>
      <mat-card-title>{{ document!.title }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>{{ document!.transcription }}</p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button (click)="playAudio(document!.audio)">Play Audio</button>
      <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>Edit</button>
        <button mat-menu-item (click)="deleteItem(document.id)">Delete</button>
      </mat-menu>
    </mat-card-actions>
  </mat-card>

  <button mat-fab class="add-btn" (click)="openDialog()">
    <mat-icon>add</mat-icon>
  </button>

  <ng-template #dialog>
    <app-audio-recorder-popup></app-audio-recorder-popup>
  </ng-template>

</div>

<ng-template #elseBlock><mat-spinner></mat-spinner></ng-template>
